(()=>{var re=Object.defineProperty;var $=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var U=(e,r,o)=>r in e?re(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,T=(e,r)=>{for(var o in r||(r={}))te.call(r,o)&&U(e,o,r[o]);if($)for(var o of $(r))oe.call(r,o)&&U(e,o,r[o]);return e};var G=(e,r,o)=>new Promise((n,t)=>{var s=f=>{try{c(o.next(f))}catch(p){t(p)}},d=f=>{try{c(o.throw(f))}catch(p){t(p)}},c=f=>f.done?n(f.value):Promise.resolve(f.value).then(s,d);c((o=o.apply(e,r)).next())});function E(e){if(e==null||typeof e!="object")return!1;let r=Object.getPrototypeOf(e);return r==null||r===Object.prototype}function b(e){return e!=null&&e.kind===3}var _="__current",D={},se=[];function L(e,{strict:r=!0,components:o}={}){let n=0,t={strict:r,mounted:!1,channel:e,children:se,nodes:new WeakSet,parents:new WeakMap,tops:new WeakMap,components:new WeakMap,fragments:new WeakMap};r&&Object.freeze(o);let s={kind:0,options:r?Object.freeze({strict:r,components:o}):{strict:r,components:o},get children(){return t.children},createComponent(d,...c){if(o&&o.indexOf(d)<0)throw new Error(`Unsupported component: ${d}`);let[f,p,...i]=c,a=f!=null?f:{},m=[],h={};if(f)for(let l of Object.keys(f))l!=="children"&&(h[l]=C(v(f[l])));if(p)if(Array.isArray(p))for(let l of p)m.push(g(l,s));else{m.push(g(p,s));for(let l of i)m.push(g(l,s))}let O=`${n++}`,x={externalProps:r?Object.freeze(a):a,internalProps:h,children:r?Object.freeze(m):m},u=T({kind:1,get children(){return x.children},get props(){return x.externalProps},get remoteProps(){return x.internalProps},remove:()=>X(u),updateProps:l=>pe(u,l,x,t),append:(...l)=>M(u,l.map(k=>g(k,s)),x,t),appendChild:l=>S(u,g(l,s),x,t),removeChild:l=>j(u,l,x,t),replaceChildren:(...l)=>B(u,l.map(k=>g(k,s)),x,t),insertBefore:(l,k)=>P(u,g(l,s),k,x,t),insertChildBefore:(l,k)=>P(u,g(l,s),k,x,t)},D);t.components.set(u,x),Object.defineProperty(u,"type",{value:d,configurable:!1,writable:!1,enumerable:!0}),F(u,t),z(u,O,s);for(let l of x.children)N(u,l,t);return u},createText(d=""){let c=`${n++}`,f={text:d},p=a=>fe(i,a,f,t),i=T({kind:2,get text(){return f.text},update:p,updateText:p,remove:()=>X(i)},D);return F(i,t),z(i,c,s),i},createFragment(){let d=`${n++}`,c={children:r?Object.freeze([]):[]},f=T({kind:3,get children(){return c.children},append:(...p)=>M(f,p.map(i=>g(i,s)),c,t),appendChild:p=>S(f,g(p,s),c,t),removeChild:p=>j(f,p,c,t),replaceChildren:(...p)=>B(f,p.map(i=>g(i,s)),c,t),insertBefore:(p,i)=>P(f,g(p,s),i,c,t),insertChildBefore:(p,i)=>P(f,g(p,s),i,c,t)},D);return t.fragments.set(f,c),F(f,t),z(f,d,s),f},append:(...d)=>M(s,d.map(c=>g(c,s)),t,t),appendChild:d=>S(s,g(d,s),t,t),replaceChildren:(...d)=>B(s,d.map(c=>g(c,s)),t,t),removeChild:d=>j(s,d,t,t),insertBefore:(d,c)=>P(s,g(d,s),c,t,t),insertChildBefore:(d,c)=>P(s,g(d,s),c,t,t),mount(){return t.mounted?Promise.resolve():(t.mounted=!0,Promise.resolve(e(0,t.children.map(I))))}};return s}function ce(e,{tops:r}){var o;return((o=r.get(e))===null||o===void 0?void 0:o.kind)===0}function Z(e,r){let o=n=>{if("children"in n)for(let t of n.children)r(t),o(t)};o(e)}function A(e,r,{remote:o,local:n}){let{mounted:t,channel:s}=r;t&&(e.kind===0||ce(e,r))&&o(s),n()}function fe(e,r,o,n){return A(e,n,{remote:t=>t(3,e.id,r),local:()=>{o.text=r}})}var y=Symbol("ignore");function pe(e,r,o,n){let{strict:t}=n,{internalProps:s,externalProps:d}=o,c={},f=[],p=!1;for(let i of Object.keys(r)){if(i==="children")continue;let a=d[i],m=r[i],h=s[i],O=v(m);if(h===O&&(O==null||typeof O!="object"))continue;let[x,u]=H(h,O);u&&f.push(...u),x!==y&&(p=!0,c[i]=x,b(a)&&K(a,n),b(m)&&N(e,m,n))}return A(e,n,{remote:i=>{p&&i(4,e.id,c)},local:()=>{let i=T(T({},d),r);o.externalProps=t?Object.freeze(i):i,o.internalProps=T(T({},o.internalProps),c);for(let[a,m]of f)a[_]=m}})}function H(e,r,o=new Set){return o.has(e)?[y]:(o.add(e),typeof e=="function"&&_ in e?[typeof r=="function"?y:C(r),[[e,r]]]:Array.isArray(e)?me(e,r,o):E(e)&&!b(e)?ae(e,r,o):[e===r?y:r])}function C(e,r=new Map){let o=r.get(e);if(o)return o;if(b(e))return r.set(e,e),e;if(Array.isArray(e)){let n=[];r.set(e,n);for(let t of e)n.push(C(t,r));return n}if(E(e)){let n={};r.set(e,n);for(let t of Object.keys(e))n[t]=C(e[t],r);return n}if(typeof e=="function"){let n=(...t)=>n[_](...t);return Object.defineProperty(n,_,{enumerable:!1,configurable:!1,writable:!0,value:e}),r.set(e,n),n}return r.set(e,e),e}function R(e,r=new Set){if(!r.has(e)){if(r.add(e),Array.isArray(e))return e.reduce((o,n)=>{let t=R(n,r);return t?[...o,...t]:o},[]);if(E(e))return Object.keys(e).reduce((o,n)=>{let t=R(e[n],r);return t?[...o,...t]:o},[]);if(typeof e=="function")return _ in e?[e]:void 0}}function X(e){var r;(r=e.parent)===null||r===void 0||r.removeChild(e)}function M(e,r,o,n){for(let t of r)S(e,t,o,n)}function S(e,r,o,n){var t;let{nodes:s,strict:d}=n;if(!s.has(r))throw new Error("Cannot append a node that was not created by this remote root");let c=r.parent,f=(t=c==null?void 0:c.children.indexOf(r))!==null&&t!==void 0?t:-1;return A(e,n,{remote:p=>{p(1,e.id,f<0?e.children.length:e.children.length-1,I(r),c?c.id:!1)},local:()=>{N(e,r,n);let p;if(c){let i=V(c,n),a=[...i.children];a.splice(f,1),c===e?p=a:(i.children=d?Object.freeze(a):a,p=[...o.children])}else p=[...o.children];p.push(r),o.children=d?Object.freeze(p):p}})}function B(e,r,o,n){for(let t of e.children)j(e,t,o,n);M(e,r,o,n)}function j(e,r,o,n){let{strict:t}=n;return A(e,n,{remote:s=>s(2,e.id,e.children.indexOf(r)),local:()=>{K(r,n);let s=[...o.children];s.splice(s.indexOf(r),1),o.children=t?Object.freeze(s):s}})}function P(e,r,o,n,t){var s;let{strict:d,nodes:c}=t;if(!c.has(r))throw new Error("Cannot insert a node that was not created by this remote root");let f=r.parent,p=(s=f==null?void 0:f.children.indexOf(r))!==null&&s!==void 0?s:-1;return A(e,t,{remote:i=>{let a=o==null?e.children.length-1:e.children.indexOf(o);i(1,e.id,a<p||p<0?a:a-1,I(r),f?f.id:!1)},local:()=>{N(e,r,t);let i;if(f){let a=V(f,t),m=[...a.children];m.splice(p,1),f===e?i=m:(a.children=d?Object.freeze(m):m,i=[...n.children])}else i=[...n.children];o==null?i.push(r):i.splice(i.indexOf(o),0,r),n.children=d?Object.freeze(i):i}})}function g(e,r){return typeof e=="string"?r.createText(e):e}function N(e,r,o){let{tops:n,parents:t}=o,s=e.kind===0?e:n.get(e);n.set(r,s),t.set(r,e),q(r,o),Z(r,d=>{n.set(d,s),q(d,o)})}function q(e,r){if(e.kind!==1)return;let o=e.props;o&&Object.values(o).forEach(n=>{b(n)&&N(e,n,r)})}function K(e,r){let{tops:o,parents:n}=r;o.delete(e),n.delete(e),Z(e,t=>{o.delete(t),J(t,r)}),J(e,r)}function J(e,r){if(e.kind!==1)return;let o=e.remoteProps;for(let n of Object.keys(o!=null?o:{})){let t=o[n];b(t)&&K(t,r)}}function F(e,{parents:r,tops:o,nodes:n}){n.add(e),Object.defineProperty(e,"parent",{get(){return r.get(e)},configurable:!0,enumerable:!0}),Object.defineProperty(e,"top",{get(){return o.get(e)},configurable:!0,enumerable:!0})}function I(e){return e.kind===2?{id:e.id,kind:e.kind,text:e.text}:{id:e.id,kind:e.kind,type:e.type,props:e.remoteProps,children:e.children.map(r=>I(r))}}function v(e){return b(e)?de(e):e}function de(e){return{id:e.id,kind:e.kind,get children(){return e.children.map(r=>I(r))}}}function V(e,r){return e.kind===0?r:e.kind===3?r.fragments.get(e):r.components.get(e)}function z(e,r,o){Object.defineProperty(e,"id",{value:r,configurable:!0,writable:!1,enumerable:!1}),Object.defineProperty(e,"root",{value:o,configurable:!0,writable:!1,enumerable:!1})}function ae(e,r,o){if(!E(r)){var n;return[C(r),(n=R(e))===null||n===void 0?void 0:n.map(c=>[c,void 0])]}let t=!1,s=[],d={};for(let c in e){let f=e[c];if(!(c in r)){t=!0;let m=R(f);m&&s.push(...m.map(h=>[h,void 0]))}let p=r[c],[i,a]=H(f,p,o);a&&s.push(...a),i!==y&&(t=!0,d[c]=i)}for(let c in r)c in d||(t=!0,d[c]=C(r[c]));return[t?d:y,s]}function me(e,r,o){if(!Array.isArray(r)){var n;return[C(r),(n=R(e))===null||n===void 0?void 0:n.map(i=>[i,void 0])]}let t=!1,s=[],d=r.length,c=e.length,f=Math.max(c,d),p=[];for(let i=0;i<f;i++){let a=e[i],m=r[i];if(i<d){if(i>=c){t=!0,p[i]=C(m);continue}let[h,O]=H(a,m,o);if(O&&s.push(...O),h===y){p[i]=a;continue}t=!0,p[i]=h}else{t=!0;let h=R(a);h&&s.push(...h.map(O=>[O,void 0]))}}return[t?p:y,s]}function ee(){return(r,o)=>{var n;function t(...s){return G(this,null,function*(){if(s.length===1)return o(...s);let[{channel:d,components:c},f]=s,p=L(d,{components:c,strict:!0}),i=o(p,f);return typeof i=="object"&&i!=null&&"then"in i&&(i=yield i),p.mount(),i})}return(n=globalThis.shopify)===null||n===void 0||n.extend(r,t),t}}var W=ee();var $e=W("purchase.checkout.block.render",le);function le(e,{extension:r,buyerJourney:o,deliveryGroups:n,lines:t,query:s}){let c=r;console.log(c);let f={age:"",canBlockProgress:r.capabilities.current.includes("block_progress")};console.log(c);let p=[];var i=!0,a=!1;r.capabilities.subscribe(h=>{f.canBlockProgress=h.includes("block_progress")}),o.intercept(({canBlockProgress:h})=>{for(var O=n.current[0].deliveryOptions[0].type,x=0;x<t.current.length;x++)m(s,t.current[x].merchandise.product.id).then(u=>{p=u.data.product.tags,p.includes("drop_shipping")&&(i=!1)}).catch(u=>{console.error("Error fetching products:",u)});return console.log(i),h&&O==="pickup"&&!i?(console.log("here"),{behavior:"block",reason:"Not Allowed",errors:[{message:"Sorry These items are not available for pickup"}]}):{behavior:"allow",perform:()=>{}}});function m(h,O){return h(`query ($id: ID!) {
        product(id: $id) {
          tags
        }
      }`,{variables:{id:O}})}}})();
